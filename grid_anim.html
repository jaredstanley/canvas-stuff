<!DOCTYPE html>
<head>
<title>Canvas Playing</title>

<script type="text/javascript">

var count = 0;
var wCount = 0;
var hCount = 0;
var colArr = new Array("a9ab2e", "3b2212", "7d2f1c", "f2782e", "ffa736");
var b_context;

var curX = 0;
var curY = 0;
var w = 20;
var margin = 5;

function start(){
var interval = setInterval(update,15);
}

function update() {
	var b_canvas = document.getElementById("c");
	b_context = b_canvas.getContext("2d");
	b_context.fillStyle= randColor();

	//circle
	b_context.beginPath();
	b_context.arc(curX,curY,Math.random()*(w+10),0,Math.PI*2,true);
	//b_context.arc(curX,curY,w,0,Math.PI*2,true);

	//addShadow();
	b_context.closePath();
	b_context.fill(); 
	countIt();
	
	if(Math.random()*10>9){
	
		randomDraw();
	
	}
	//curX+=50;
	curX = (w * 2+ margin ) * ( wCount % 20);
	curY = (w * 2+ margin ) * Math.floor( hCount / 20);

	
	//alert(curX);
	count++;
	wCount++;
	hCount++;

	if(curY>1000){
		hCount = 0;
		curY = 0;
	}

}

function randomDraw(){

	var tempX = (w * 2+ margin ) * ((Math.round(Math.random()*500))%20);
	var tempY = (w * 2+ margin ) * Math.floor(Math.random()*20);
	
	
	b_context.fillStyle= randColor();

	//circle
	b_context.beginPath();
	b_context.arc(tempX,tempY,Math.random()*w,0,Math.PI*2,true);

	//addShadow();
	b_context.closePath();
	b_context.fill(); 

}


function addShadow(){

b_context.shadowOffsetX = 5;
b_context.shadowOffsetY = 5;
b_context.shadowBlur    = 8;
b_context.shadowColor   = 'rgba(0, 0, 0, 0.3)';


}

function countIt(){
  b_context.shadowColor   = 'rgba(0, 0, 0, 0)';	
  b_context.clearRect(0, 0, 350, 50);
  b_context.lineWidth=1;
  b_context.fillStyle="#666666";
  b_context.font="30px sans-serif";
  b_context.fillText("> "+count, 10, 30);
  b_context.fillStyle= randColor();
	count++;


}

function randColor(){
//var string = Math.round(0x2233ff*Math.random()).toString(16);
//alert(string);

var num= Math.round(Math.random()*5) ;

var string = colArr[num];

return "#"+string;
}
	</script>
</head>


<body>

<canvas id="c" width ="1000" height="1000"></canvas>
<script>start();
</script>

</body>

</html>